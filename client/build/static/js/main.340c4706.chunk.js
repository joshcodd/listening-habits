(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c);a(17);var o=function(){return r.a.createElement("div",{className:"LogIn"},r.a.createElement("div",{className:"title"}),r.a.createElement("h1",{className:"listening"}," Listening "),r.a.createElement("h1",{className:"habits"}," Habits "),r.a.createElement("a",{href:"https://radiant-fortress-31626.herokuapp.com/APIlogin"},r.a.createElement("button",{className:"logInButton"},"Log in with Spotify")))},i=a(2),l=a.n(i),m=a(9),u=a(3),f=a(4);a(19),a(20);var p=function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"profileContainer"},r.a.createElement("img",{className:"profilePicture",src:e.image,alt:"profile"}),r.a.createElement("h1",{className:"name"},e.name),r.a.createElement("div",{className:"followBox followLeft"},r.a.createElement("h1",{className:"followTitle"},"Following"),r.a.createElement("h1",{className:"follow"},e.following)),r.a.createElement("div",{className:"followBox "},r.a.createElement("h1",{className:"followTitle"},"Followers"),r.a.createElement("h1",{className:"follow"},e.followers)),r.a.createElement("button",{className:"logOut",onClick:function(){document.cookie="accessToken=",console.log(document.cookie),window.location.replace("https://radiant-fortress-31626.herokuapp.com")}},"Log Out")),r.a.createElement("h1",{className:"currentTitle"},"Top ",e.currentView),e.children)},h=(a(21),a(6)),d=a(8);var E=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"slideshow"},e.children),r.a.createElement("ul",{className:"buttons"},r.a.createElement("li",{className:"upArrow"},r.a.createElement("a",{href:"#artists",onClick:function(){e.setCurrentView("Artists")}},r.a.createElement(h.a,{icon:d.a,size:"3x",color:"white"}))),r.a.createElement("li",{className:"navigate"},"Navigate"),r.a.createElement("li",{className:"downArrow"},r.a.createElement("a",{href:"#tracks",onClick:function(){e.setCurrentView("Tracks")}},r.a.createElement(h.a,{icon:d.a,size:"3x",color:"white"})))))};a(27);var g=function(e){return r.a.createElement("div",{className:"item "+e.className,id:e.id},e.children)};a(28);var w=function(e){return r.a.createElement("div",{className:"databar"},r.a.createElement("span",{className:"index"},e.index+1),r.a.createElement("img",{className:"artist"===e.type?"artistImage":"trackImage",src:e.data.image,alt:"artist"}),r.a.createElement("span",{className:"data"},e.data.name.slice(0,35)),"tracks"===e.type&&r.a.createElement("span",{className:"trackArtist"},e.data.artist+" - "+e.data.album))};function b(e){switch(e){case"4 Weeks":return"short_term";case"6 Months":return"medium_term";case"All Time":return"long_term";default:alert("Error")}}function v(e){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+t}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",{image:n.images.length>0?n.images[0].url:"https://yt3.ggpht.com/iMT9MVrt6qxAfTxeKUX17ESdppsDntW2eA9YvnONcPqxlbdt9SkVhaIRsAtE0PFqRiLA-arexQ=s900-c-k-c0xffffffff-no-rj-mo",name:n.display_name,followers:n.followers.total});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/me/following?type=artist",{headers:{Authorization:"Bearer "+t}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n.artists.total);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(l.a.mark((function e(t,a){var n,r,c,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/me/top/artists?time_range=".concat(a,"&limit=20&offset=0"),{headers:{Authorization:"Bearer "+t}});case 2:return n=e.sent,e.next=5,n.json();case 5:for(r=e.sent,c=[],(s=r.items.length)>10&&(s=10),o=0;o<s;o++)c.push({name:r.items[o].name,image:r.items[o].images[0].url});return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(l.a.mark((function e(t,a){var n,r,c,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/me/top/tracks?time_range=".concat(a,"&limit=20&offset=0"),{headers:{Authorization:"Bearer "+t}});case 2:return n=e.sent,e.next=5,n.json();case 5:for(r=e.sent,c=[],(s=r.items.length)>10&&(s=10),o=0;o<s;o++)c.push({name:r.items[o].name,artist:r.items[o].artists[0].name,album:r.items[o].album.name,release:r.items[o].album.release_date,image:r.items[o].album.images[0].url});return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(29);var C=function(e){function t(t){var a=document.getElementById(e.currentSelection).style;a.backgroundColor="",a.color="",e.setSelection(t.target.id)}return Object(n.useEffect)((function(){var t=document.getElementById(e.currentSelection).style;t.backgroundColor="white",t.color="black"})),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement("button",{className:"buttonLeft",onClick:t,id:"4 Weeks"},"4 Weeks"),r.a.createElement("button",{className:"buttonCenter",onClick:t,id:"6 Months"},"6 Months"),r.a.createElement("button",{className:"buttonRight",onClick:t,id:"All Time"},"All Time"))};var S=function(e){var t=Object(n.useState)({image:"",name:"",followers:0,following:0}),a=Object(f.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(""),i=Object(f.a)(o,2),h=i[0],d=i[1],k=Object(n.useState)(""),x=Object(f.a)(k,2),j=x[0],A=x[1],S=Object(n.useState)("Artists"),T=Object(f.a)(S,2),B=T[0],I=T[1],V=Object(n.useState)("All Time"),L=Object(f.a)(V,2),_=L[0],z=L[1];function W(e){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(l.a.mark((function t(a){var n,r,c,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b(a),t.next=3,N(e.token);case 3:return r=t.sent,t.next=6,v(e.token);case 6:return c=t.sent,s(Object(m.a)(Object(m.a)({},c),{},{following:r})),t.next=10,y(e.token,n);case 10:return o=t.sent,d(o),t.next=14,O(e.token,n);case 14:i=t.sent,A(i);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){W(_)}),[]),Object(n.useEffect)((function(){W(_)}),[_]),r.a.createElement("div",{className:"profile"},r.a.createElement(p,{image:c.image,name:c.name,followers:c.followers,following:c.following,currentView:B},r.a.createElement(C,{currentSelection:_,setSelection:z})),r.a.createElement(E,{currentView:B,setCurrentView:I},r.a.createElement(g,{id:"artists"},""===h?null:h.map((function(e,t){return r.a.createElement(w,{key:t,index:t,type:"artist",data:e})}))),r.a.createElement(g,{id:"tracks"},""===j?null:j.map((function(e,t){return r.a.createElement(w,{key:t,index:t,type:"tracks",data:e})})))))};var T=function(e){var t=document.cookie;return t=t.slice(12,t.length),console.log(t),r.a.createElement("div",{className:"App"},""===t?r.a.createElement(o,null):r.a.createElement(S,{token:t}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.340c4706.chunk.js.map